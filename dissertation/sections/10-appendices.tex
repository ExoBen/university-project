\documentclass[../dissertation.tex]{subfiles}
\begin{appendices}

\chapter{Additional Information}

\section{MoSCoW Requirements}
\label{sec:moscow}

After defining the scope of the project in Section \ref{sec:scope}, the below MoSCoW requirements \cite{moscowreq} were made. 

Must Have:
\begin{itemize}
    \item A web endpoint that calls the Tulip Python API
	\item To be able to deal with large data (that is too large to just send over the network and be visualised by the client without manipulation)
	\item A basic demo interface
	\item To have data that can be rendered returned from the endpoint
\end{itemize}

Should Have:
\begin{itemize}
    \item A neat JavaScript client, with neat meaning a well-documented list of functions that the client can call that then make calls to the web end-point
	\item A flexible web endpoint, with flexible meaning covers as many relevant API calls as possible, and making sure that as few of the parameters for the API calls are hard-coded. This has the benefit of both:
	\begin{itemize}
	    \item Making the system more useful for a larger number of clients
        \item Letting users make more than just a JavaScript client, so if they want to make a C\# or Java app that would not create a problem
	\end{itemize}
\end{itemize}
	
Could Have:
\begin{itemize}
    \item The ability to ask for an image to be returned if client is low power: This would mean that the visualisation would not be interactive, but would take very little time to transfer the image and next to no time to render it, as opposed to far more time for both tasks to send a network to be constructed on the client.
	\item The ability for a user to link their hosted data to the application: This could be an in-house solution such as a a company network storage, or an external data host such as Amazon's S3 \cite{amazons3}. Hence, big data (hundreds of gigabytes or terrabytes) could be linked to the system with ease, each one being imported and linked to the system manually, or an XML/JSON file could be provided that allowed for batch uploading of data. 
\end{itemize}
	
Won't have but would like:
\begin{itemize}
    \item A fully fledged and pretty interface: It would be nice to have a fully completed front-end that is very user-friendly and has been thoroughly evaluated and tested. However, given the amount of time available for the project, it was decided that this is not as critical as having back-end functionality, and additionally that the front-end is being created to demonstrate what the back-end can do as much as to be part of the project.
\end{itemize}

\section{Technical Infrastructure Sketch}
\label{sec:tech_infra_app}

See Figure \ref{fig:techinfra_app} for first draft of the technical infrastructure.

\begin{figure}
    \centering
    \includegraphics[width=17cm]{6/tech_infra}
    \caption{Draft of Technical Infrastructure}
    \label{fig:techinfra_app}
\end{figure}

\section{What is Hadoop?}
\label{sec:whatishadoop}

Hadoop is a set of open source programs that contain four core modules. These are:

\begin{itemize}
    \item Hadoop Common: The common utilities that support the other Hadoop modules.
    \item Hadoop Distributed File System (HDFSâ„¢): A distributed file system that provides high-throughput access to application data.
    \item Hadoop MapReduce: A YARN-based system for parallel processing of large datasets.
    \item Hadoop YARN: A framework for job scheduling and cluster resource management.
\end{itemize}

These combine to give a way of storing, scheduling and processing Big Data in parallel. The way Hadoop could be utilised by the developed application is by storing all of the data that is to be visualised on HDFS. This would be done by using YARN to schedule the node and edge bundling jobs and then manage the resources available to the cluster where the jobs would be run. Next, MapReduce would be used to process each of the sub-networks and finally combine them back into a single network.

\section{Performance Evaluation Tables}
\label{sec:perf-eval-tab}

The below tables, Table \ref{table:30-nodes-full}, \ref{table:200-nodes-full}, \ref{table:1000-nodes-full}, \ref{table:3000-nodes-full}, show the average of five runs collecting how long different parts of the process took, along with the total time standard deviation, the number of edges and nodes, and the packet size.

\begin{table}[ht]
\centering
\begin{tabular}{|l|l|l|l|l|}
\hline
                                   & \textbf{None}  & \textbf{Edge}  & \textbf{Pruning} & \textbf{Both} \\ \hline
Time from click to AJAX response   & 12.4  & 17    & 15.6    & 15.8 \\ \hline
Time spend processing in Vis.js    & 0.8   & 0.8   & 0.6     & 0.6  \\ \hline
Time spend creating vis.js network & 22.2  & 20.8  & 12.6    & 9    \\ \hline
Time spend drawing                 & 135.2 & 91    & 57      & 37.8 \\ \hline
Sum of all JS times                & 170.6 & 129.6 & 85.8    & 63.2 \\ \hline
Time from first to last Date()     & 170.8 & 129.6 & 85.8    & 63.2 \\ \hline
Total Time Standard Deviation      & 15.2  & 19.3  & 20.5    & 15.1 \\ \hline
Number of nodes                    & 31    & 18    & 9       & 7    \\ \hline
Number of edges                    & 26    & 13    & 4       & 2    \\ \hline
Time to load in the TLP            & 0.64  & 0.7   & 0.8     & 0.72 \\ \hline
Time to prune the network          &       &       & 0.38    & 0.32 \\ \hline
Time to bundle on edges            &       & 0.36  &         & 0.1  \\ \hline
Packet Size                        & 1300  & 1012  & 827     & 785  \\ \hline
\end{tabular}
\caption{30 Nodes}
\label{table:30-nodes-full}
\end{table}

\begin{table}[ht]
\centering
\begin{tabular}{|l|l|l|l|l|}
\hline
                                   & \textbf{None}  & \textbf{Edge}  & \textbf{Pruning} & \textbf{Both} \\ \hline
Time from click to AJAX response   & 50     & 20.2   & 22      & 19    \\ \hline
Time spend processing in Vis.js    & 4      & 3.6    & 2.2     & 1     \\ \hline
Time spend creating vis.js network & 97.2   & 90     & 44.8    & 23.6  \\ \hline
Time spend drawing                 & 7231.6 & 6635.2 & 593.2   & 102.8 \\ \hline
Sum of all JS times                & 7382.8 & 6749   & 662.2   & 146.4 \\ \hline
Time from first to last Date()     & 7382.8 & 6749   & 663     & 146.6 \\ \hline
Total Time Standard Deviation      & 2010.2 & 1074.9 & 187     & 14.5  \\ \hline
Number of nodes                    & 199    & 155    & 60      & 17    \\ \hline
Number of edges                    & 199    & 155    & 60      & 17    \\ \hline
Time to load in the TLP            & 1.24   & 1.2    & 1.18    & 1.16  \\ \hline
Time to prune the network          &        &        & 2.86    & 2.52  \\ \hline
Time to bundle on edges            &        & 1.4    &         & 0.6   \\ \hline
Packet Size                        & 7600   & 6100   & 3900    & 2300  \\ \hline
\end{tabular}
\caption{200 Nodes}
\label{table:200-nodes-full}
\end{table}

\begin{table}[ht]
\centering
\begin{tabular}{|l|l|l|l|l|}
\hline
                                   & \textbf{None}  & \textbf{Edge}  & \textbf{Pruning} & \textbf{Both} \\ \hline
Time from click to AJAX response   & 177.4   & 126.6   & 58.8    & 57    \\ \hline
Time spend processing in Vis.js    & 15      & 13.4    & 9.2     & 2.6   \\ \hline
Time spend creating vis.js network & 361.2   & 242.2   & 108.2   & 16.2  \\ \hline
Time spend drawing                 & 59370.8 & 37757.6 & 9241.6  & 76.8  \\ \hline
Sum of all JS times                & 59924.4 & 38139.8 & 9417.8  & 152.6 \\ \hline
Time from first to last Date()     & 59925   & 38140.2 & 9418.4  & 152.6 \\ \hline
Total Time Standard Deviation      & 8343.5  & 9383    & 2223.1  & 30.5  \\ \hline
Number of nodes                    & 1089    & 627     & 226     & 12    \\ \hline
Number of edges                    & 1087    & 625     & 224     & 10    \\ \hline
Time to load in the TLP            & 5.32    & 4.72    & 3.44    & 3.28  \\ \hline
Time to prune the network          &         &         & 33.28   & 33.26 \\ \hline
Time to bundle on edges            &         & 13.68   &         & 2.34  \\ \hline
Packet Size                        & 41400   & 29400   & 20300   & 12400 \\ \hline
\end{tabular}
\caption{1000 Nodes}
\label{table:1000-nodes-full}
\end{table}

\begin{table}[ht]
\centering
\begin{tabular}{|l|l|l|l|l|}
\hline
                                   & \textbf{None}  & \textbf{Edge}  & \textbf{Pruning} & \textbf{Both} \\ \hline
Time from click to AJAX response   & 646      & 423      & 314.2   & 241     \\ \hline
Time spend processing in Vis.js    & 35.8     & 33       & 26.8    & 16.8    \\ \hline
Time spend creating vis.js network & 850.4    & 593      & 308.8   & 135.4   \\ \hline
Time spend drawing                 & 251316.6 & 130557.2 & 48306.4 & 14139.6 \\ \hline
Sum of all JS times                & 252848.8 & 131606.2 & 48956.2 & 14532.8 \\ \hline
Time from first to last Date()     & 252849.2 & 131606.6 & 48956.8 & 14532.8 \\ \hline
Total Time Standard Deviation      & 32862    & 3937     & 6031.3  & 3341    \\ \hline
Number of nodes                    & 2849     & 1737     & 802     & 286     \\ \hline
Number of edges                    & 2835     & 1719     & 792     & 276     \\ \hline
Time to load in the TLP            & 162.54   & 50.5     & 11.04   & 7.46    \\ \hline
Time to prune the network          &          &          & 169.06  & 184.72  \\ \hline
Time to bundle on edges            &          & 94.04    &         & 7.32    \\ \hline
Packet Size                        & 114000   & 83500    & 63500   & 42900   \\ \hline
\end{tabular}
\caption{3000 Nodes}
\label{table:3000-nodes-full}
\end{table}

%----------------------------------

\chapter{Using the Software}

\section{Running the Server}

How to run everything.

% Should I have API calls?

\end{appendices}
